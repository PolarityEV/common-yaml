# Polarity Error Code Definitions
# Single source of truth for error codes across all platforms
# Supports: C (STM32), C (ESP32), Dart (Flutter)

project_name: "Polarity"
prefix: "POLARITY_ERR"
version: "1.0.0"

# VCU Error Codes: 100-254
categories:
  I2C:
    range: [100, 109]
    description: "I2C communication errors"
    errors:
      - name: "I2C_SLAVE_TX"
        code: 100
        description: "I2C slave transmit failed"
        severity: "error"

      - name: "I2C_SLAVE_RX"
        code: 101
        description: "I2C slave receive failed"
        severity: "error"

      - name: "I2C_LISTEN"
        code: 102
        description: "I2C listen mode activation failed"
        severity: "error"

      - name: "I2C_ERR_CBK"
        code: 103
        description: "I2C error callback triggered"
        severity: "error"

      - name: "I2C_SLAVE_TX_CPLT"
        code: 104
        description: "I2C slave transmit complete with error"
        severity: "error"

      - name: "I2C_SLAVE_RX_CPLT"
        code: 105
        description: "I2C slave receive complete with error"
        severity: "error"

      - name: "I2C_ENABLE"
        code: 109
        description: "I2C enable failed"
        severity: "error"

  CAN:
    range: [110, 139]
    description: "CAN bus communication errors"
    errors:
      - name: "CAN1_INIT"
        code: 110
        description: "CAN1 initialization failed"
        severity: "critical"

      - name: "CAN2_INIT"
        code: 111
        description: "CAN2 initialization failed"
        severity: "critical"

      - name: "CAN3_INIT"
        code: 112
        description: "CAN3 initialization failed"
        severity: "critical"

      - name: "CAN1_FILTER"
        code: 113
        description: "CAN1 filter configuration failed"
        severity: "error"

      - name: "CAN2_FILTER"
        code: 114
        description: "CAN2 filter configuration failed"
        severity: "error"

      - name: "CAN3_FILTER"
        code: 115
        description: "CAN3 filter configuration failed"
        severity: "error"

      - name: "CAN1_EN"
        code: 116
        description: "CAN1 enable/start failed"
        severity: "critical"

      - name: "CAN2_EN"
        code: 117
        description: "CAN2 enable/start failed"
        severity: "critical"

      - name: "CAN3_EN"
        code: 118
        description: "CAN3 enable/start failed"
        severity: "critical"

      - name: "CAN1_NOTIFICATION"
        code: 119
        description: "CAN1 notification activation failed"
        severity: "error"

      - name: "CAN2_NOTIFICATION"
        code: 120
        description: "CAN2 notification activation failed"
        severity: "error"

      - name: "CAN3_NOTIFICATION"
        code: 121
        description: "CAN3 notification activation failed"
        severity: "error"

      - name: "CAN_RX_FIFO0"
        code: 130
        description: "CAN RX FIFO0 error"
        severity: "warning"

      - name: "CAN_RX_FIFO1"
        code: 131
        description: "CAN RX FIFO1 error"
        severity: "warning"

      - name: "CAN_RX_MSG"
        code: 132
        description: "CAN receive message failed"
        severity: "error"

      - name: "CAN_QUEUE_FULL"
        code: 133
        description: "CAN message queue overflow (messages dropped)"
        severity: "warning"

  TIM:
    range: [140, 159]
    description: "Timer peripheral errors"
    errors:
      - name: "TIM1"
        code: 140
        description: "Timer 1 operation failed"
        severity: "error"

      - name: "TIM2"
        code: 141
        description: "Timer 2 operation failed"
        severity: "error"

      - name: "TIM3"
        code: 142
        description: "Timer 3 operation failed"
        severity: "error"

      - name: "TIM4"
        code: 143
        description: "Timer 4 operation failed"
        severity: "error"

      - name: "TIM5"
        code: 144
        description: "Timer 5 operation failed"
        severity: "error"

      - name: "TIM6"
        code: 145
        description: "Timer 6 operation failed"
        severity: "error"

      - name: "TIM7"
        code: 146
        description: "Timer 7 operation failed"
        severity: "error"

      - name: "TIM8"
        code: 147
        description: "Timer 8 operation failed"
        severity: "error"

      - name: "TIM9"
        code: 148
        description: "Timer 9 operation failed"
        severity: "error"

      - name: "TIM10"
        code: 149
        description: "Timer 10 operation failed"
        severity: "error"

      - name: "TIM11"
        code: 150
        description: "Timer 11 operation failed"
        severity: "error"

      - name: "TIM12"
        code: 151
        description: "Timer 12 operation failed"
        severity: "error"

      - name: "TIM13"
        code: 152
        description: "Timer 13 operation failed"
        severity: "error"

  UART:
    range: [160, 169]
    description: "UART serial communication errors"
    errors:
      - name: "UART1"
        code: 160
        description: "UART1 operation failed"
        severity: "error"

      - name: "UART2"
        code: 161
        description: "UART2 operation failed"
        severity: "error"

  VCU_GENERAL:
    range: [200, 249]
    description: "VCU general system errors"
    errors:
      - name: "VCU_INIT"
        code: 200
        description: "VCU initialization failed"
        severity: "critical"

      - name: "DCDC"
        code: 210
        description: "DC-DC converter error"
        severity: "critical"

      - name: "BMS1"
        code: 211
        description: "BMS1 communication or fault"
        severity: "critical"

      - name: "BMS2"
        code: 212
        description: "BMS2 communication or fault"
        severity: "critical"

# Backward compatibility mapping (old names -> new names)
# This maintains compatibility with existing code during transition
legacy_mapping:
  SKUDAK_ERR_I2C_SLAVE_TX: POLARITY_ERR_I2C_SLAVE_TX
  SKUDAK_ERR_I2C_SLAVE_RX: POLARITY_ERR_I2C_SLAVE_RX
  SKUDAK_ERR_I2C_LISTEN: POLARITY_ERR_I2C_LISTEN
  SKUDAK_ERR_I2C_ERR_CBK: POLARITY_ERR_I2C_ERR_CBK
  SKUDAK_ERR_I2C_SLAVE_TX_CPLT: POLARITY_ERR_I2C_SLAVE_TX_CPLT
  SKUDAK_ERR_I2C_SLAVE_RX_CPLT: POLARITY_ERR_I2C_SLAVE_RX_CPLT
  SKUDAK_ERR_I2C_ENABLE: POLARITY_ERR_I2C_ENABLE
  SKUDAK_ERR_CAN1_INIT: POLARITY_ERR_CAN1_INIT
  SKUDAK_ERR_CAN2_INIT: POLARITY_ERR_CAN2_INIT
  SKUDAK_ERR_CAN3_INIT: POLARITY_ERR_CAN3_INIT
  SKUDAK_ERR_CAN1_FILTER: POLARITY_ERR_CAN1_FILTER
  SKUDAK_ERR_CAN2_FILTER: POLARITY_ERR_CAN2_FILTER
  SKUDAK_ERR_CAN3_FILTER: POLARITY_ERR_CAN3_FILTER
  SKUDAK_ERR_CAN1_EN: POLARITY_ERR_CAN1_EN
  SKUDAK_ERR_CAN2_EN: POLARITY_ERR_CAN2_EN
  SKUDAK_ERR_CAN3_EN: POLARITY_ERR_CAN3_EN
  SKUDAK_ERR_CAN1_NOTIFICATION: POLARITY_ERR_CAN1_NOTIFICATION
  SKUDAK_ERR_CAN2_NOTIFICATION: POLARITY_ERR_CAN2_NOTIFICATION
  SKUDAK_ERR_CAN3_NOTIFICATION: POLARITY_ERR_CAN3_NOTIFICATION
  SKUDAK_ERR_CAN_RX_FIFO0: POLARITY_ERR_CAN_RX_FIFO0
  SKUDAK_ERR_CAN_RX_FIFO1: POLARITY_ERR_CAN_RX_FIFO1
  SKUDAK_ERR_CAN_RX_MSG: POLARITY_ERR_CAN_RX_MSG
  SKUDAK_ERR_CAN_QUEUE_FULL: POLARITY_ERR_CAN_QUEUE_FULL
  SKUDAK_ERR_TIM1: POLARITY_ERR_TIM1
  SKUDAK_ERR_TIM2: POLARITY_ERR_TIM2
  SKUDAK_ERR_TIM3: POLARITY_ERR_TIM3
  SKUDAK_ERR_TIM4: POLARITY_ERR_TIM4
  SKUDAK_ERR_TIM5: POLARITY_ERR_TIM5
  SKUDAK_ERR_TIM6: POLARITY_ERR_TIM6
  SKUDAK_ERR_TIM7: POLARITY_ERR_TIM7
  SKUDAK_ERR_TIM8: POLARITY_ERR_TIM8
  SKUDAK_ERR_TIM9: POLARITY_ERR_TIM9
  SKUDAK_ERR_TIM10: POLARITY_ERR_TIM10
  SKUDAK_ERR_TIM11: POLARITY_ERR_TIM11
  SKUDAK_ERR_TIM12: POLARITY_ERR_TIM12
  SKUDAK_ERR_TIM13: POLARITY_ERR_TIM13
  SKUDAK_ERR_UART1: POLARITY_ERR_UART1
  SKUDAK_ERR_UART2: POLARITY_ERR_UART2
  SKUDAK_ERR_VCU_INIT: POLARITY_ERR_VCU_INIT
  SKUDAK_ERR_DCDC: POLARITY_ERR_DCDC
  SKUDAK_ERR_BMS1: POLARITY_ERR_BMS1
  SKUDAK_ERR_BMS2: POLARITY_ERR_BMS2
